search:
  context:
    action:
      - code: search
        description: Buyer app indicates the search intent
        reference: <PR/Issue/Discussion Links md format text>
    location: &a1
      country:
        code:
          - code: IND
            description: Represents the country
            reference: <PR/Issue/Discussion Links md format text>
      city:
        code:
          - code: std:080
            description: Bangalore
            reference: <PR/Issue/Discussion Links md format text>
    domain: &a2
      - code: ONDC:TRV11
        description: mobility domain Public Transit
        reference: <PR/Issue/Discussion Links md format text>
  message:
    intent:
      fulfillment:
        vehicle:
          category: &a3
            - code: BUS
              description: Describes the vehicle category as Bus
              reference: <PR/Issue/Discussion Links md format text
            - code: METRO
              description: Describes the vehicle category as Metro
              reference: <PR/Issue/Discussion Links md format text
          variant:
            - &a4
              code: AC
              description: Describes the vehicle varint as AC Bus
              reference: <PR/Issue/Discussion Links md format text
            - &a5
              code: NON_AC
              description: Describes the vehicle varint as NON_AC Bus
              reference: <PR/Issue/Discussion Links md format text
            - code: SUV
              description: Describes the vehicle variant as SUV
              reference: <PR/Issue/Discussion Links md format text
        type: &a6
          - code: ROUTE
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - code: TRIP
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - code: TICKET
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - code: PASS
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
          - code: STOPS
            description: Describes the type of fulfillment.
            reference: <PR/Issue/Discussion Links md format text
        stops: &a7
          type:
            - code: START
              description: Describes the initial fulfillment location.
              reference: <PR/Issue/Discussion Links md format text
            - code: END
              description: Describes the final fulfillment location.
              reference: <PR/Issue/Discussion Links md format text
            - code: INTERMEDIATE_STOP
              description: Describes the intermediate stops during fulfillment.
              reference: <PR/Issue/Discussion Links md format text
            - code: TRANSIT_STOP
              description: Describes the transit stops during fulfillment.
              reference: <PR/Issue/Discussion Links md format text
          authorization:
            type:
              - code: OTP
                description: Describes OTP as an authorization mechanism used to start or end
                  the fulfillment of an order.
                reference: <PR/Issue/Discussion Links md format text
              - code: QR
                description: Describes QR as an authorization mechanism used to start or end the
                  fulfillment of an order.
                reference: <PR/Issue/Discussion Links md format text
              - code: VEHICLE_NUMBER
                description: Describes vehcile number based authorization mechanism.
                reference: <PR/Issue/Discussion Links md format text
            status:
              - code: UNCLAIMED
                description: Describes current status of ticket as unclaimed.
                reference: <PR/Issue/Discussion Links md format text
              - code: CLAIMED
                description: Describes current status of ticket as claimed.
                reference: <PR/Issue/Discussion Links md format text
              - code: EXPIRED
                description: Describes current status of ticket as expired.
                reference: <PR/Issue/Discussion Links md format text
        state: &a8
          descriptor:
            code:
              - code: INACTIVE
                description: Describes the type of fulfillment.
                reference: <PR/Issue/Discussion Links md format text
              - code: ACTIVE
                description: Describes the type of fulfillment.
                reference: <PR/Issue/Discussion Links md format text
on_search:
  context:
    action:
      - code: on_search
        description: Seller app provides catalog based on search intent.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message:
    catalog:
      providers:
        categories:
          descriptor:
            code:
              - code: SEATER
                description: Represents type of bus seats available
                reference: <PR/Issue/Discussion Links md format text
              - code: SLEEPER
                description: Represents type of bus seats available
                reference: <PR/Issue/Discussion Links md format text
              - code: SEMI_SLEEPER
                description: Represents type of bus seats available
                reference: <PR/Issue/Discussion Links md format text
              - code: TICKET
                description: Represents type of category
                reference: <PR/Issue/Discussion Links md format text
              - code: PASS
                description: Represents type of category
                reference: <PR/Issue/Discussion Links md format text
        items: &a9
          descriptor:
            code:
              - code: SJT
                description: Describes the kind of ticket Single Journey Ticket
                reference: <PR/Issue/Discussion Links md format text
              - code: SFSJT
                description: Describes the kind of ticket special fair Single Journey Ticket
                reference: <PR/Issue/Discussion Links md format text
              - code: RJT
                description: Describes the kind of ticket Return Journey Ticket
                reference: <PR/Issue/Discussion Links md format text
              - code: PASS
                description: Describes the kind of ticket Pass (multiple use ticket)
                reference: <PR/Issue/Discussion Links md format text
        fulfillments: &a10
          vehicle:
            category: *a3
            variant:
              - *a4
              - *a5
          type: *a6
          stops: *a7
          state: *a8
        payments: &a12
          status:
            - code: NOT-PAID
              description: NOT-PAID indicates a payment status where the payment process has
                not been completed.
              reference: <PR/Issue/Discussion Links md format text
            - code: PAID
              description: PAID indicates a payment status where the payment process has been
                successfully completed.
              reference: <PR/Issue/Discussion Links md format text
          collected_by:
            - code: BPP
              description: Describes when the seller app is collecting the payment.
              reference: <PR/Issue/Discussion Links md format text
            - code: BAP
              description: Describes when the buyer app is collecting the payment.
              reference: <PR/Issue/Discussion Links md format text
          type:
            - code: PRE-ORDER
              description: Payment occurs prior to order placement.
              reference: <PR/Issue/Discussion Links md format text
            - code: ON-FULFILLMENT
              description: Payment occurs upon completion of the journey.
              reference: <PR/Issue/Discussion Links md format text
            - code: POST-FULFILLMENT
              description: Payment occurs after the completion of the journey.
              reference: <PR/Issue/Discussion Links md format text
select:
  context:
    action:
      - code: select
        description: Buyer app communicates selected items and quantities.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: &a11
    order:
      items: *a9
      fulfillments: *a10
      status: &a14
        - &a15
          code: SOFT_CANCEL
          description: Describes a soft-cancel request initiated by the buyer app, a step
            preceding cancellation.
          reference: <PR/Issue/Discussion Links md format text
        - &a16
          code: ACTIVE
          description: Describes the status of the order.
          reference: <PR/Issue/Discussion Links md format text
        - &a17
          code: COMPLETE
          description: Describes the status of the order.
          reference: <PR/Issue/Discussion Links md format text
        - &a18
          code: CANCELLED
          description: Describes the status of the order.
          reference: <PR/Issue/Discussion Links md format text
      quote: &a13
        breakup:
          title:
            - code: BASE_PRICE
              description: Describes the base price of an item.
              reference: <PR/Issue/Discussion Links md format text
            - code: REFUND
              description: Describes the refund amount for an item.
              reference: <PR/Issue/Discussion Links md format text
            - code: CANCELLATION_CHARGES
              description: Describes the CANCELLATION_CHARGES for an item.
              reference: <PR/Issue/Discussion Links md format text
            - code: OFFER
              description: Describes the Offer for an item.
              reference: <PR/Issue/Discussion Links md format text
            - code: TOLL
              description: Describes the Toll charges for an item.
              reference: <PR/Issue/Discussion Links md format text
on_select:
  context:
    action:
      - code: on_select
        description: Seller app provides serviceability info, quotes, and O2D TAT for
          selected items.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: *a11
init:
  context:
    action:
      - code: init
        description: Buyer and seller apps confirm terms & conditions before placing orders.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: *a11
on_init:
  context:
    action:
      - code: on_init
        description: Buyer and seller apps agree to terms & conditions before placing
          orders.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message:
    order:
      items: *a9
      fulfillments: *a10
      payments: *a12
      quote: *a13
confirm:
  context:
    action:
      - code: confirm
        description: Buyer app submits orders on behalf of the buyer.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message:
    order:
      items: *a9
      fulfillments: *a10
      payments: *a12
      quote: *a13
      status: *a14
on_confirm:
  context:
    action:
      - code: on_confirm
        description: Seller app responds to the order with auto-acceptance, deferred
          acceptance, or rejection.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: &a20
    order:
      items: *a9
      fulfillments: *a10
      payments: *a12
      quote: *a13
      status: &a19
        - *a15
        - *a16
        - *a17
        - *a18
        - code: CANCEL_INITIATED
          description: Describes whether cancel is initiated
          reference: <PR/Issue/Discussion Links md format text
status:
  context:
    action:
      - code: status
        description: Buyer app request for status of the order
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message:
    order: &a21
      status: *a19
on_status:
  context:
    action:
      - code: on_status
        description: Seller app return order with status , Driver pickup - driver drop
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: *a20
cancel:
  context:
    action:
      - code: cancel
        description: Buyer app requests order cancellation."
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message:
    descriptor:
      code:
        - code: SOFT-CANCEL
          description: Describes a soft-cancel request initiated by the buyer app, a step
            preceding cancellation.
          reference: <PR/Issue/Discussion Links md format text
        - code: CONFIRM-CANCEL
          description: Describes a confirm-cancel request initiated by the buyer app,
            confirming the order cancellation
          reference: <PR/Issue/Discussion Links md format text
    order: *a21
on_cancel:
  context:
    action:
      - code: on_cancel
        description: Seller app specifies the cancellation status.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: *a20
update:
  context:
    action:
      - code: update
        description: Buyer app requests order update."
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: *a20
on_update:
  context:
    action:
      - code: on_cancel
        description: Seller app specifies the update status.
        reference: <PR/Issue/Discussion Links md format text>
    location: *a1
    domain: *a2
  message: *a20
